(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{38:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(0),c=a.n(s),r=a(7),l=a.n(r),o=(a(38),a(4)),d=function(e){return Object(n.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-light bg-light",children:[Object(n.jsx)("a",{className:"navbar-brand",href:"!#",children:"Lead Manager"}),Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(n.jsx)("ul",{className:"navbar-nav mr-auto"})})]})},i=a(12),j=a(31),b=a(9),u="GET_LEADS",m="DELETE_LEAD",p="ADD_LEAD",h="GET_ERRORS",O="CREATE_MESSAGE",g=a(14),f=a.n(g),x=function(e){return{type:O,payload:e}},v=function(e,t){return{type:h,payload:{msg:e,status:t}}},y=Object(b.b)(null,{addLead:function(e){return function(t){f.a.post("http://127.0.0.1:8000/api/leads/",e).then((function(e){t(x({leadAdded:"Lead Added"})),t({type:p,payload:e.data})})).catch((function(e){return t(v(e.response.data,e.response.status))}))}}})((function(e){var t=e.addLead,a=Object(s.useState)({name:"",email:"",message:""}),c=Object(j.a)(a,2),r=c[0],l=c[1],d=function(e){l(Object(o.a)(Object(o.a)({},r),{},Object(i.a)({},e.target.name,e.target.value)))};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"card card-body mt-4 mb-4",children:[Object(n.jsx)("h2",{children:"Add Lead"}),Object(n.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(r),l({name:"",email:"",message:""})},children:Object(n.jsxs)("div",{className:"form-row align-items-center",children:[Object(n.jsxs)("div",{className:"col-auto mt-2",children:[Object(n.jsx)("label",{className:"sr-only",for:"inlineFormInput",children:"Name"}),Object(n.jsx)("input",{onChange:d,type:"text",className:"form-control mb-2",id:"inlineFormInput",placeholder:"Name",name:"name",value:r.name})]}),Object(n.jsxs)("div",{className:"col-auto ",children:[Object(n.jsx)("label",{className:"sr-only",for:"inlineFormInputGroup",children:"Email"}),Object(n.jsx)("input",{onChange:d,type:"email",className:"form-control",id:"inlineFormInputGroup",placeholder:"Email",name:"email",value:r.email})]}),Object(n.jsxs)("div",{className:"col-6 col-auto",children:[Object(n.jsx)("label",{className:"sr-only",for:"inlineFormInputGroup",children:"Message"}),Object(n.jsx)("textarea",{onChange:d,className:"form-control",placeholder:"Message",rows:"1",name:"message",value:r.message})]}),Object(n.jsx)("div",{className:"col-auto mt-2",children:Object(n.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Submit"})})]})})]})})})),N=Object(b.b)((function(e){return{leads:e.leads.leads}}),{getLeads:function(){return function(e){f.a.get("http://127.0.0.1:8000/api/leads").then((function(t){e({type:u,payload:t.data})})).catch((function(t){return e(v(t.response.data,t.response.status))}))}},deleteLead:function(e){return function(t){f.a.delete("http://127.0.0.1:8000"+"/api/leads/".concat(e)).then((function(a){t(x({leadDelete:"Lead Deleted"})),t({type:m,payload:e})})).catch((function(e){return t(v(e.response.data,e.response.status))}))}}})((function(e){var t=e.getLeads,a=e.deleteLead,c=e.leads;return Object(s.useEffect)((function(){t()}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:"Leads"}),Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{className:"thead-light",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"ID"}),Object(n.jsx)("th",{scope:"col",children:"Name"}),Object(n.jsx)("th",{scope:"col",children:"Email"}),Object(n.jsx)("th",{scope:"col",children:"Message"}),Object(n.jsx)("th",{})]})}),Object(n.jsx)("tbody",{children:c.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.id}),Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:e.email}),Object(n.jsx)("td",{children:e.message}),Object(n.jsx)("td",{children:Object(n.jsx)("button",{onClick:function(){return a(e.id)},className:"btn btn-danger btn-sm",children:"Delete"})})]},e.id)}))})]})]})})),E=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(y,{}),Object(n.jsx)(N,{})]})},L=a(10),D=a(2),F=a.n(D),S=function(e){var t=e.alert,a=e.error,c=e.message;return Object(s.useEffect)((function(){400===a.status&&(a.msg.name&&t.error("Name: "+a.msg.name),a.msg.email&&t.error("Email: "+a.msg.email),a.msg.message&&t.error("Message: "+a.msg.message)),c&&(c.leadAdded&&t.success(c.leadAdded),c.leadDelete&&t.info(c.leadDelete))}),[a,c]),Object(n.jsx)(n.Fragment,{})};S.propTypes={error:F.a.object.isRequired,message:F.a.object.isRequired};var A=Object(b.b)((function(e){return{error:e.errors,message:e.messages}}),null)(Object(L.d)()(S)),C=a(28),T=a(8),w=a(29),I=a(30),M=a(32),R={leads:[]},G={msg:{},status:null},_={},k=Object(T.combineReducers)({leads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(o.a)(Object(o.a)({},e),{},{leads:t.payload});case m:return Object(o.a)(Object(o.a)({},e),{},{leads:e.leads.filter((function(e){return e.id!==t.payload}))});case p:return Object(o.a)(Object(o.a)({},e),{},{leads:[].concat(Object(M.a)(e.leads),[t.payload])});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{msg:t.payload.msg,status:t.payload.status};default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.payload;default:return e}}}),P=[w.a],q=Object(T.createStore)(k,{},Object(I.composeWithDevTools)(T.applyMiddleware.apply(void 0,P))),B={position:L.b.TOP_CENTER,timeout:5e3,offset:"20px",transition:L.c.FADE},J=function(){return Object(n.jsx)(b.a,{store:q,children:Object(n.jsx)(L.a,Object(o.a)(Object(o.a)({template:C.a},B),{},{children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d,{}),Object(n.jsx)(A,{}),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)(E,{})})]})}))})},W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,64)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};l.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(J,{})}),document.getElementById("root")),W()}},[[61,1,2]]]);
//# sourceMappingURL=main.12c64580.chunk.js.map